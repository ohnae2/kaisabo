import{d as c}from"./util.date-6e182eaa.js";import{M as D}from"./MainService-2ece3d21.js";import{d as S,r as N,x as A,o as e,e as r,f as a,H as s,h as u,F as d,E as o,t as h,p as x,j as k,_ as w}from"./index-b96c7cd4.js";import"./index-3df2611e.js";import"./jsonApi-4e63100b.js";const M=f=>(x("data-v-7d717da1"),f=f(),k(),f),F={id:"calendar"},I=M(()=>a("h1",null,"calendar",-1)),b={class:"calendar"},B={colspan:"7"},E=M(()=>a("thead",null,[a("th",null,"일"),a("th",null,"월"),a("th",null,"화"),a("th",null,"수"),a("th",null,"목"),a("th",null,"금"),a("th",null,"토")],-1)),V=S({__name:"Calendar",setup(f){const l=N({date:new Date,year:c.format(new Date,"YYYY"),month:c.format(new Date,"MM"),dateArray:[[{day:"",date:"",rsvList:[{dd:"",prodNo:0,prodNm:null,ordStatCd:null,hldNm:null,price:0}]}]]}),m=function(i){i==="prev"?l.date.setMonth(l.date.getMonth()-1):l.date.setMonth(l.date.getMonth()+1),l.year=c.format(l.date,"YYYY"),l.month=c.format(l.date,"MM"),y()},C=function(){return l.date.getDay()},y=function(){D.getCalendar({year:l.year,month:l.month}).then(i=>{console.log(i.data);let p=C();l.dateArray=[];let t=[];for(let n=1;n<43;n++){let _=new Date(l.date.getFullYear(),l.date.getMonth()).setDate(n-p),v=c.format(_,"YYYY-MM-DD"),g=[],Y=0;for(let L of i.data){if(Y>2)break;L.dd==v&&(g.push(L),Y++)}t.push({day:c.format(_,"D"),date:v,rsvList:g}),n%7==0&&(l.dateArray.push(t),t=[])}},i=>{console.log(i)})};return A(()=>{y()}),(i,p)=>(e(),r("div",F,[I,a("table",b,[a("thead",null,[a("th",B,[a("h2",null,[a("span",{class:"icon",onClick:p[0]||(p[0]=t=>m("prev"))},""),a("span",null,s(l.year),1),u("년 "),a("span",null,s(l.month),1),u("월"),a("span",{class:"icon",onClick:p[1]||(p[1]=t=>m("next"))},"")])])]),E,a("tbody",null,[a("tr",null,[(e(!0),r(d,null,o(l.dateArray[0],t=>(e(),r("td",{class:h({off:t.rsvList.length==0})},[u(s(t.day)+" ",1),(e(!0),r(d,null,o(t.rsvList,n=>(e(),r("p",null,s(n.prodNm)+" : "+s(n.ordStatCd),1))),256))],2))),256))]),a("tr",null,[(e(!0),r(d,null,o(l.dateArray[1],t=>(e(),r("td",{class:h({off:t.rsvList.length==0})},[u(s(t.day)+" ",1),(e(!0),r(d,null,o(t.rsvList,n=>(e(),r("p",null,s(n.prodNm)+" : "+s(n.ordStatCd),1))),256))],2))),256))]),a("tr",null,[(e(!0),r(d,null,o(l.dateArray[2],t=>(e(),r("td",{class:h({off:t.rsvList.length==0})},[u(s(t.day)+" ",1),(e(!0),r(d,null,o(t.rsvList,n=>(e(),r("p",null,s(n.prodNm)+" : "+s(n.ordStatCd),1))),256))],2))),256))]),a("tr",null,[(e(!0),r(d,null,o(l.dateArray[3],t=>(e(),r("td",{class:h({off:t.rsvList.length==0})},[u(s(t.day)+" ",1),(e(!0),r(d,null,o(t.rsvList,n=>(e(),r("p",null,s(n.prodNm)+" : "+s(n.ordStatCd),1))),256))],2))),256))]),a("tr",null,[(e(!0),r(d,null,o(l.dateArray[4],t=>(e(),r("td",{class:h({off:t.rsvList.length==0})},[u(s(t.day)+" ",1),(e(!0),r(d,null,o(t.rsvList,n=>(e(),r("p",null,s(n.prodNm)+" : "+s(n.ordStatCd),1))),256))],2))),256))]),a("tr",null,[(e(!0),r(d,null,o(l.dateArray[5],t=>(e(),r("td",{class:h({off:t.rsvList.length==0})},[u(s(t.day)+" ",1),(e(!0),r(d,null,o(t.rsvList,n=>(e(),r("p",null,s(n.prodNm)+" : "+s(n.ordStatCd),1))),256))],2))),256))])])])]))}});const U=w(V,[["__scopeId","data-v-7d717da1"]]);export{U as default};
